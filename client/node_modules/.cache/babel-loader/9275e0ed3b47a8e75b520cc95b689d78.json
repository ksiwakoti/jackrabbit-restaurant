{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\16056\\\\Desktop\\\\jackrabbit-resturent\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport axios from \"axios\";\nvar initial_state = {\n  //user data\n  userType: 'guest',\n  username: '',\n  isSignIn: false,\n  SingInfailureMessege: '',\n  //component control\n  showMenu: 'default',\n  body: 'homepage',\n  //for body change handled from menu\n  //user menu\n  MenuBoxes: {\n    box11: 'HOME',\n    box12: 'ABOUT US',\n    box13: '',\n    box21: 'RESERVATION',\n    box22: '',\n    box23: '',\n    box31: 'ORDER',\n    box32: '',\n    box33: ''\n  }\n};\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initial_state;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  var new_state = _objectSpread({}, state);\n\n  switch (action.type) {\n    case \"SING_IN\":\n      {\n        //open sign in form\n        new_state.showMenu = 'singIn';\n        break;\n      }\n\n    case \"SING_UP\":\n      {\n        //open sign up form\n        new_state.showMenu = 'singUp';\n        break;\n      }\n\n    case \"CANCEL_SIGNIN_FORM\":\n      {\n        new_state.showMenu = 'default';\n        break;\n      }\n\n    case \"CANCEL_SIGNUP_FORM\":\n      {\n        new_state.showMenu = 'default';\n        break;\n      }\n\n    case \"HANDLE_BODY_CHANGE_HOME\":\n      {\n        new_state.body = 'homepage';\n        break;\n      }\n\n    case \"HANDLE_BODY_CHANGE_RESERVATION\":\n      {\n        new_state.body = 'reservation';\n        break;\n      }\n\n    case \"HANDLE_BODY_CHANGE_ABOUT_US\":\n      {\n        new_state.body = 'aboutUs';\n        break;\n      }\n\n    case \"SIGNIN_CLICK\":\n      {\n        //get user data\n        axios.get('/api/users').then(function (res) {\n          //search for matching (username || email && password)\n          for (var i = 0; res.data.length > i; i++) {\n            if (res.data[i].username == action.usernameInput && res.data[i].password == action.passwordInput) {\n              new_state.username = res.data[i].username;\n              new_state.isSignIn = true;\n              new_state.userType = res.data[i].userType; //handle default menu change\n\n              new_state.showMenu = 'default';\n              new_state.body = 'homepage';\n            }\n          } //handle failed login\n\n\n          if (new_state.isSignIn === false) {\n            new_state.SingInfailureMessege = \"Account can't be found!\";\n          }\n        });\n        break;\n      }\n\n    default:\n      console.log(action.type + \"Doesn't do anything\");\n  }\n\n  return new_state;\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:\\Users\\16056\\Desktop\\jackrabbit-resturent\\client\\src\\store\\headerReducer.js"],"names":["axios","initial_state","userType","username","isSignIn","SingInfailureMessege","showMenu","body","MenuBoxes","box11","box12","box13","box21","box22","box23","box31","box32","box33","reducer","state","action","new_state","type","get","then","res","i","data","length","usernameInput","password","passwordInput","console","log"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\n\r\n\r\n\r\nconst initial_state = {\r\n    //user data\r\n    userType: 'guest',\r\n    username: '',\r\n    isSignIn: false,\r\n    SingInfailureMessege: '',\r\n\r\n    //component control\r\n    showMenu: 'default',\r\n    body: 'homepage', //for body change handled from menu\r\n\r\n    //user menu\r\n    MenuBoxes: {\r\n        box11: 'HOME',\r\n        box12: 'ABOUT US',\r\n        box13: '',\r\n        box21: 'RESERVATION',\r\n        box22: '',\r\n        box23: '',\r\n        box31: 'ORDER',\r\n        box32: '',\r\n        box33: '',\r\n    }\r\n}\r\n\r\nconst reducer = (state = initial_state, action) => {\r\n    const new_state = {...state};\r\n\r\n    switch (action.type) {\r\n        case \"SING_IN\": { //open sign in form\r\n            new_state.showMenu = 'singIn';\r\n            break;\r\n        }\r\n        case \"SING_UP\": { //open sign up form\r\n            new_state.showMenu = 'singUp';\r\n            break;\r\n        }\r\n        case \"CANCEL_SIGNIN_FORM\": {\r\n            new_state.showMenu = 'default';\r\n            break;\r\n        }\r\n        case \"CANCEL_SIGNUP_FORM\": {\r\n            new_state.showMenu = 'default';\r\n            break;\r\n        }\r\n        case \"HANDLE_BODY_CHANGE_HOME\": {\r\n            new_state.body = 'homepage';\r\n            break;\r\n        }\r\n        case \"HANDLE_BODY_CHANGE_RESERVATION\": {\r\n            new_state.body = 'reservation';\r\n            break;\r\n        }\r\n        case \"HANDLE_BODY_CHANGE_ABOUT_US\":{\r\n            new_state.body = 'aboutUs';\r\n            break;\r\n        }\r\n        case \"SIGNIN_CLICK\":{\r\n            //get user data\r\n            axios\r\n                .get('/api/users')\r\n                .then( res => {\r\n                    //search for matching (username || email && password)\r\n                    for(var i = 0; res.data.length > i; i++){\r\n                        if(res.data[i].username == action.usernameInput && res.data[i].password == action.passwordInput){\r\n                            new_state.username = res.data[i].username\r\n                            new_state.isSignIn = true\r\n                            new_state.userType = res.data[i].userType\r\n                            //handle default menu change\r\n                            \r\n                            new_state.showMenu = 'default'\r\n                            new_state.body = 'homepage'\r\n                        }\r\n                    }\r\n                    //handle failed login\r\n                    if(new_state.isSignIn === false){\r\n                        new_state.SingInfailureMessege = \"Account can't be found!\"\r\n                    }\r\n                })\r\n            break;\r\n        }\r\n        default:\r\n            console.log(action.type + \"Doesn't do anything\")\r\n    }\r\n\r\n    return new_state;\r\n};\r\n\r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}